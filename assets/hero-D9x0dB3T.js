import{r as h,j as l}from"./index-KdKrId7J.js";import{g as j,u as $}from"./index-ngu5qmBK.js";import{c as R,g as he}from"./_commonjsHelpers-Cpj98o6Y.js";import{S as pe}from"./ScrollTrigger-9BXoZkrM.js";import{c as ve}from"./createLucideIcon-D4nbfRjD.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=ve("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);var O,B;function ce(){if(B)return O;B=1;function r(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}return O=r,O}var N,U;function je(){if(U)return N;U=1;var r=typeof R=="object"&&R&&R.Object===Object&&R;return N=r,N}var E,J;function le(){if(J)return E;J=1;var r=je(),e=typeof self=="object"&&self&&self.Object===Object&&self,i=r||e||Function("return this")();return E=i,E}var z,K;function Te(){if(K)return z;K=1;var r=le(),e=function(){return r.Date.now()};return z=e,z}var P,Q;function ye(){if(Q)return P;Q=1;var r=/\s/;function e(i){for(var a=i.length;a--&&r.test(i.charAt(a)););return a}return P=e,P}var k,Z;function Se(){if(Z)return k;Z=1;var r=ye(),e=/^\s+/;function i(a){return a&&a.slice(0,r(a)+1).replace(e,"")}return k=i,k}var G,ee;function de(){if(ee)return G;ee=1;var r=le(),e=r.Symbol;return G=e,G}var C,re;function Ie(){if(re)return C;re=1;var r=de(),e=Object.prototype,i=e.hasOwnProperty,a=e.toString,s=r?r.toStringTag:void 0;function m(d){var o=i.call(d,s),n=d[s];try{d[s]=void 0;var t=!0}catch{}var c=a.call(d);return t&&(o?d[s]=n:delete d[s]),c}return C=m,C}var L,te;function Re(){if(te)return L;te=1;var r=Object.prototype,e=r.toString;function i(a){return e.call(a)}return L=i,L}var M,ne;function we(){if(ne)return M;ne=1;var r=de(),e=Ie(),i=Re(),a="[object Null]",s="[object Undefined]",m=r?r.toStringTag:void 0;function d(o){return o==null?o===void 0?s:a:m&&m in Object(o)?e(o):i(o)}return M=d,M}var A,ie;function _e(){if(ie)return A;ie=1;function r(e){return e!=null&&typeof e=="object"}return A=r,A}var W,oe;function qe(){if(oe)return W;oe=1;var r=we(),e=_e(),i="[object Symbol]";function a(s){return typeof s=="symbol"||e(s)&&r(s)==i}return W=a,W}var V,ae;function Oe(){if(ae)return V;ae=1;var r=Se(),e=ce(),i=qe(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,d=/^0o[0-7]+$/i,o=parseInt;function n(t){if(typeof t=="number")return t;if(i(t))return a;if(e(t)){var c=typeof t.valueOf=="function"?t.valueOf():t;t=e(c)?c+"":c}if(typeof t!="string")return t===0?t:+t;t=r(t);var b=m.test(t);return b||d.test(t)?o(t.slice(2),b?2:8):s.test(t)?a:+t}return V=n,V}var F,se;function Ne(){if(se)return F;se=1;var r=ce(),e=Te(),i=Oe(),a="Expected a function",s=Math.max,m=Math.min;function d(o,n,t){var c,b,v,g,u,x,T=0,D=!1,y=!1,w=!0;if(typeof o!="function")throw new TypeError(a);n=i(n)||0,r(t)&&(D=!!t.leading,y="maxWait"in t,v=y?s(i(t.maxWait)||0,n):v,w="trailing"in t?!!t.trailing:w);function _(f){var p=c,S=b;return c=b=void 0,T=f,g=o.apply(S,p),g}function fe(f){return T=f,u=setTimeout(I,n),D?_(f):g}function me(f){var p=f-x,S=f-T,Y=n-p;return y?m(Y,v-S):Y}function H(f){var p=f-x,S=f-T;return x===void 0||p>=n||p<0||y&&S>=v}function I(){var f=e();if(H(f))return X(f);u=setTimeout(I,me(f))}function X(f){return u=void 0,w&&c?_(f):(c=b=void 0,g)}function be(){u!==void 0&&clearTimeout(u),T=0,c=x=b=u=void 0}function ge(){return u===void 0?g:X(e())}function q(){var f=e(),p=H(f);if(c=arguments,b=this,x=f,p){if(u===void 0)return fe(x);if(y)return clearTimeout(u),u=setTimeout(I,n),_(x)}return u===void 0&&(u=setTimeout(I,n)),g}return q.cancel=be,q.flush=ge,q}return F=d,F}var Ee=Ne();const ue=he(Ee),ze=({previewRef:r,containerRef:e,onPreviewClick:i,currentVideoIndex:a})=>{const s=h.useRef(null),m=ue(n=>{if(!s.current||!e.current)return;const t=j.timeline({defaults:{duration:.4,ease:"power2.out"}}),c=e.current.getBoundingClientRect(),b=(n.clientX-c.left)/c.width,g=((n.clientY-c.top)/c.height-.5)*-70,u=(b-.5)*70;t.to(s.current,{rotationX:g,rotationY:u,transformPerspective:1e3}).to(r.current,{rotationX:-g*.7,rotationY:-u*.7},"<")},2),d=ue(()=>{j.to(s.current,{width:0,height:0,duration:.5,ease:"power2.out"})},1e3),o=h.useCallback(n=>{j.to(s.current,{width:"13rem",height:"13rem",duration:.4,ease:"power2.out"}),m(n),d()},[s,m,d]);return $(()=>{const n=e.current;if(n)return n.addEventListener("mousemove",o),()=>{n.removeEventListener("mousemove",o)}},[o,e,d]),l.jsx("div",{ref:s,id:"player-preview",className:"center z-20 size-0 cursor-pointer overflow-hidden rounded-lg hover:!size-fit",onClick:i,children:l.jsx("div",{ref:r,className:"pulse-size center overflow-hidden rounded-lg border-2 border-black",children:l.jsx("img",{src:`public/img/hero-${a%4+1}.webp`,alt:"Preview card img",className:"size-52 object-cover",draggable:"false"})})})};j.registerPlugin(pe);const Me=()=>{const[r,e]=h.useState(1),[i,a]=h.useState(!0),[s,m]=h.useState(!1),d=h.useRef(null),o=h.useRef(null),n=h.useRef(null),t=h.useRef(null),c=h.useRef(null),b=()=>s||(e(u=>u%4+1),m(!0)),v=()=>{var u;(u=n.current)==null||u.play()},g=()=>{if(o.current){const u=r%4+1;o.current.pause(),o.current.poster=`public/img/hero-${u}.webp`,o.current.src=`/videos/hero-${u}.mp4`}[o.current,n.current]=[n.current,o.current],m(!1)};return $(()=>{if(i)return a(!1);j.timeline({onStart:v,onComplete:g}).to(t.current,{scale:0,duration:0}).to(o.current,{zIndex:0,duration:0}).to(n.current,{zIndex:10,duration:0}).to(n.current,{width:"100%",height:"100%",duration:.4,ease:"power3.inOut"}).to(o.current,{width:"13rem",height:"13rem",duration:0}).to(t.current,{scale:1,duration:.25,ease:"power3.inOut"})},[r]),$(()=>{j.set(c.current,{clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}),j.to(c.current,{clipPath:"polygon(0 0, 50% 0, 89% 100%, 31% 100%)",ease:"power3.inOut",scrollTrigger:{trigger:c.current,start:"25% 25%",end:"100% center",scrub:1}})},[]),l.jsxs("section",{id:"hero",className:"full-height center relative",ref:d,children:[l.jsxs("div",{className:"absolute left-10 top-24 z-30 max-md:left-5",children:[l.jsxs("h1",{className:"special-font hero-heading text-blue-100",children:["REDEFI",l.jsx("span",{children:"N"}),"E"]}),l.jsxs("p",{className:"font-robert-regular text-blue-100 max-lg:text-sm max-md:text-xs",children:["Enter the Metagame ",l.jsx("br",{}),"Unleash the Play Economy"]}),l.jsxs("button",{id:"watch-trailer",title:"Watch trailer",className:"center trailer-button mt-5 gap-x-2 rounded-2xl bg-yellow-300 px-6 py-2 font-general text-[0.7rem] font-bold",children:[l.jsx(xe,{fill:"black",size:12})," WATCH TRAILER"]})]}),l.jsxs("div",{className:"center relative z-10 size-full overflow-hidden",id:"video-container",ref:c,children:[l.jsx(ze,{previewRef:t,containerRef:d,onPreviewClick:b,currentVideoIndex:r}),l.jsx("video",{ref:o,preload:"auto",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"video-player z-10 size-full",poster:"public/img/hero-1.webp",draggable:"false",controls:!1,disablePictureInPicture:!0,children:l.jsx("source",{src:"public/videos/hero-1.mp4",type:"video/mp4"})}),l.jsx("video",{ref:n,preload:"auto",muted:!0,loop:!0,playsInline:!0,className:"video-player z-0 size-52",poster:"public/img/hero-2.webp",draggable:"false",controls:!1,disablePictureInPicture:!0,children:l.jsx("source",{src:"public/videos/hero-2.mp4",type:"video/mp4"})}),l.jsxs("h1",{className:"special-font hero-heading absolute bottom-4 right-5 z-30 text-blue-100",children:["G",l.jsx("span",{children:"A"}),"MING"]})]}),l.jsxs("h1",{className:"special-font hero-heading absolute bottom-4 right-5 z-0 text-black",children:["G",l.jsx("span",{children:"A"}),"MING"]})]})};export{Me as default};
